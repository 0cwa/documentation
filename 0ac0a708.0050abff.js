/*! For license information please see 0ac0a708.0050abff.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{155:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return l})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return d}));var i=n(1),a=n(9),r=(n(0),n(295)),o=n(298),s={last_modified_on:"2020-07-23",$schema:"/.meta/.schemas/guides.json",title:"Getting started with Kotlin on the server-side",description:"Learn how to start leveraging Kotlin in your server-side applications",author_github:"https://github.com/pjeziorowski",tags:["type: engineering","technology: kubernetes"],hide_pagination:!0},l={categories:[{name:"engineering",title:"Engineering",description:"We share our engineering learning with all of you.",permalink:"/guides/engineering"}],coverLabel:"Getting started with Kotlin on the server-side",description:"Learn how to start leveraging Kotlin in your server-side applications",permalink:"/guides/engineering/getting-started-with-kotlin-on-the-server-side",readingTime:"9 min read",source:"@site/guides/engineering/getting-started-with-kotlin-on-the-server-side.md",tags:[{label:"type: engineering",permalink:"/guides/tags/type-engineering"},{label:"technology: kubernetes",permalink:"/guides/tags/technology-kubernetes"}],title:"Getting started with Kotlin on the server-side",truncated:!1,prevItem:{title:"Deploy Spring Boot with PostgreSQL on Qovery",permalink:"/guides/tutorial/deploy-spring-boot-with-postgresql"},nextItem:{title:"GraphQL API with Hasura",permalink:"/guides/tutorial/graphql-api-with-hasura"}},c=[{value:"Background",id:"background",children:[]},{value:"Java - Kotlin transition",id:"java---kotlin-transition",children:[]},{value:"Reading &amp; Writing Kotlin code",id:"reading--writing-kotlin-code",children:[]},{value:"How did I ramp up on Kotlin?",id:"how-did-i-ramp-up-on-kotlin",children:[]},{value:"Impressions after months of writing server-side apps with Kotlin",id:"impressions-after-months-of-writing-server-side-apps-with-kotlin",children:[]},{value:"Java-Kotlin interop from a web developer perspective",id:"java-kotlin-interop-from-a-web-developer-perspective",children:[]},{value:"Why you should consider using Kotlin on the server",id:"why-you-should-consider-using-kotlin-on-the-server",children:[]},{value:"The dark side",id:"the-dark-side",children:[]},{value:"Final thoughts",id:"final-thoughts",children:[]}],u={rightToc:c};function d(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(r.b)("wrapper",Object(i.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"background"},"Background"),Object(r.b)("p",null,"I've used Java as my primary server-side programming language for years. Before I joined Qovery, I have worked on a cloud-native project at SAP, where Java was the default choice to bootstrap new microservices, besides it's known limitations and cumbersomeness. "),Object(r.b)("p",null,"JVM ecosystem, decent performance, and stability make Java a very popular choice in enterprises. From a developer's point of view, all of these come with the cost of working with old language, lacking some of the important features that newer languages provide (which Java tries to fix with the recent changes and more rapid, 6-month release cadence)."),Object(r.b)("p",null,"Convincing colleagues to consider a new language (Kotlin) was impossible, especially after taking our negative experiences with Scala into account. That's the main reason why my experience with Kotlin before changing the job was limited to playing with it in micro side projects and reading articles."),Object(r.b)("p",null,"In April, I started working at Qovery, a container as a service platform where a huge part of the backend code is written in Kotlin. In this post, I'll describe the last months of my journey moving from Java to Koltin, my experiences and thoughts on this process, and Kotlin as a server-side programming language."),Object(r.b)("h2",{id:"java---kotlin-transition"},"Java - Kotlin transition"),Object(r.b)("p",null,"For me, a Java developer with basic knowledge of other languages (like JS, Go, and other popular programming langs) moving from Java to Kotlin was very natural. It was more like a gradual transition/upgrade rather than jumping into something new. Most of the good parts from Kotlin that are missing in Java can be found in other programming languages. If you are not limited to just one language (Java), there will be little in Kotlin that will surprise you (for the people thinking the transition from Java to Kotlin is hard - I recommend trying to use Rust without reading the ",Object(r.b)("a",Object(i.a)({parentName:"p"},{href:"https://doc.rust-lang.org/book/"}),"Rust Bible")," twice - you'll change your mind quickly.). "),Object(r.b)("h2",{id:"reading--writing-kotlin-code"},"Reading & Writing Kotlin code"),Object(r.b)("p",null,"Reading Kotlin code came without any efforts. If you can't guess what the 'new' syntax means, all you need to do is take a quick look at the ",Object(r.b)("a",Object(i.a)({parentName:"p"},{href:"https://kotlinlang.org/docs/reference/basic-syntax.html"}),"basic syntax page"),", and you are good to go. Writing idiomatic Kotlin code, however, is a bit trickier. After years of using Java, you may have habits that will lead you to write Java-like Kotlin code. Writing idiomatic code, at least in my case, requires more time spent with the language. I found ",Object(r.b)("a",Object(i.a)({parentName:"p"},{href:"https://kotlinlang.org/docs/reference/idioms.html"}),"this document")," invaluable to speed up this process."),Object(r.b)("h2",{id:"how-did-i-ramp-up-on-kotlin"},"How did I ramp up on Kotlin?"),Object(r.b)("p",null,"Getting ready to use Kotlin did not require more than spending a few days to get used to the codebase I would later work with and slowly reading the ",Object(r.b)("a",Object(i.a)({parentName:"p"},{href:"https://kotlinlang.org/docs/reference/basic-types.html"}),"Kotlin documentation")," in the meantime. I believe this gives you all the basics you need to be productive with the language - proficiency and expertise will come with time."),Object(r.b)("h2",{id:"impressions-after-months-of-writing-server-side-apps-with-kotlin"},"Impressions after months of writing server-side apps with Kotlin"),Object(r.b)("p",null,"After switching from Java to Kotlin, my first impressions were that I deal with a modern programming language. Pascal notation, type inference, extension functions, no semicolons, immutable collections, coroutines, channels, and more - this all added to a feeling of using a powerful, modern language (even though most of the concepts are quite old, borrowed from other langs, you can see similar trends in other new, modern programming languages)."),Object(r.b)("p",null,"Another thing that that I could quickly notice is the improvement in code readability (in the majority of cases) and conciseness. The most striking, simple examples are, of course, data classes and null checks, which cost much more work (and lines of code) in Java."),Object(r.b)("p",null,"Data Classes (Kotlin vs Java):"),Object(r.b)("pre",null,Object(r.b)("code",Object(i.a)({parentName:"pre"},{className:"language-kotlin",metastring:'title="Kotlin"',title:'"Kotlin"'}),"data class Person(var name: String, var surname: String, var id: String)\n")),Object(r.b)("pre",null,Object(r.b)("code",Object(i.a)({parentName:"pre"},{className:"language-java",metastring:'title="Java"',title:'"Java"'}),"public class Person {\n    private String name;\n    private String surname;\n    private String id;\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getSurname() {\n        return surname;\n    }\n    public void setSurname(String surname) {\n        this.surname = surname;\n    }\n    public String getId() {\n        return id;\n    }\n    public void setId(String id) {\n        this.id = id;\n    }\n    @Override public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Person person = (Person) o;\n        if (name != null ? !name.equals(person.name) : person.name != null) return false;\n        if (surname != null ? !surname.equals(person.surname) : person.surname != null)\n            return false;\n        return id != null ? id.equals(person.id) : person.id == null;\n    }\n    @Override public int hashCode() {\n        int result = name != null ? name.hashCode() : 0;\n        result = 31 * result + (surname != null ? surname.hashCode() : 0);\n        result = 31 * result + (id != null ? id.hashCode() : 0);\n        return result;\n    }\n    @Override public String toString() {\n        return \"Person{\" +\n                \"name='\" + name + ''' +\n                \", surname='\" + surname + ''' +\n                \", id='\" + id + ''' +\n                '}';\n    }\n}\n")),Object(r.b)("p",null,"Null checks (Kotlin vs Java):"),Object(r.b)("pre",null,Object(r.b)("code",Object(i.a)({parentName:"pre"},{className:"language-kotlin",metastring:'title="Kotlin"',title:'"Kotlin"'}),"fun main() {\n    val outer = OuterClass(null)\n    print(outer.inner?.someValue ?: \u201cDEFAULT VALUE\u201d)\n}\n")),Object(r.b)("pre",null,Object(r.b)("code",Object(i.a)({parentName:"pre"},{className:"language-java",metastring:'title="Java"',title:'"Java"'}),"public class Example {\n\n  public static void main(String[] args) {\n    OuterClass outer = new OuterClass(null);\n    if (outer.inner != null && outer.inner.someValue != null) {\n            System.out.println(outer.inner.someValue);\n    } else {\n        System.out.println(\u201cDEFAULT VALUE\u201d);\n    }\n  }\n\n}\n")),Object(r.b)("p",null,"After some time of working with the language, I noticed another thing - the null safety, in fact, does make the difference. It does not solve all the issues with NPEs, but it drastically reduces this problem. Most of the time when I get NPE is during development when I intentionally cut corners due to my laziness. After the code is ready to go to production, it's very unlikely to throw an NPE."),Object(r.b)("h2",{id:"java-kotlin-interop-from-a-web-developer-perspective"},"Java-Kotlin interop from a web developer perspective"),Object(r.b)("p",null,"Java-Kotlin interop is really good. You can basically use anything you would use in plain Java. Sometimes you may fall into a pitfall, you need to take care of nulls (they may come from Java libraries, which are of course not null-safe) or may need to use a plugin to make a given framework work properly. Still, in general, it's very good interop between two languages. You can even copy-paste Java code, and IntelliJ will convert it to Kotlin on the fly - it works quite good; most often, it produces working code - from time to time, you may need to correct something manually."),Object(r.b)("p",null,"Automatic Java -> Kotlin code conversion when during copy-paste:"),Object(r.b)("p",{align:"center"},Object(r.b)("img",{src:"/img/java2kotlin.gif",alt:"Copying Java code to Kotlin files"})),Object(r.b)("h2",{id:"why-you-should-consider-using-kotlin-on-the-server"},"Why you should consider using Kotlin on the server"),Object(r.b)("p",null,"The list of good things about Kotlin is very long. I'll name just a few that are my favorite, and those alone should justify at least considering using Kotlin for server-side programming on the JVM:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"null is a separate type - String (non-null) and String? (nullable String) are two different types in Kotlin. If you don't mess with the compiler, you are pretty much safe from null pointer exceptions. The less 500 InternalServerErrors due to NPE, the better!"),Object(r.b)("li",{parentName:"ul"},"Extension Functions - Kotlin allows you to add new functions to any type (e.g., to the String class). It's just syntactic sugar that replaces Java's static util functions, but it makes the code much more readable.")),Object(r.b)("pre",null,Object(r.b)("code",Object(i.a)({parentName:"pre"},{className:"language-kotlin",metastring:'title="Kotlin Extension Function"',title:'"Kotlin',Extension:!0,'Function"':!0}),'fun String.myOwnStringFunction() = this.toUpperCase() + " | Made with Extension Function"\n\nfun main() {\n    print("HelloWorld!".myOwnStringFunction()) // OUTPUT: HELLOWORLD! | Made with Extension Function\n}\n')),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Functional programming support - default immutability in collections, value objects, higher-order functions, useful helper functions in the standard library - FP support in Kotlin is so much better than in Java"),Object(r.b)("li",{parentName:"ul"},"Type inference - most often, you don't need to provide the type of the variable - the compiler is smart enough to know. One could say it's the same in Java since Java 10, but Kotlin took it to the next level - it can infer method return type or class property type, which is not the case in Java.")),Object(r.b)("pre",null,Object(r.b)("code",Object(i.a)({parentName:"pre"},{className:"language-kotlin",metastring:'title="Kotlin Type Inference"',title:'"Kotlin',Type:!0,'Inference"':!0}),'class Example {\n    \n    fun functionReturningString() = "NO RETURN TYPE SPECIFIED"\n    \n}\n')),Object(r.b)("h2",{id:"the-dark-side"},"The dark side"),Object(r.b)("p",null,"Moving all language specificities aside, the thing that disappoints me the most is the performance of IntelliJ while working with Kotlin. Code completion, syntax highlighting, refactoring - I can always feel a slight delay while working with Kotlin. The problem is not existing while working with any other language (besides the performance, JetBrains IDE works excellent with the language)."),Object(r.b)("p",null,"Renaming method parameter in Kotlin (pay attention to how long the red frame around the variable name after renaming action lasts)"),Object(r.b)("p",{align:"center"},Object(r.b)("img",{src:"/img/kotlin-refactor.gif",alt:"Refactoring in Kotlin"})),Object(r.b)("p",null,"Renaming method parameter in Golang (renaming almost instant)"),Object(r.b)("p",{align:"center"},Object(r.b)("img",{src:"/img/golang-refactor.gif",alt:"Refactoring in Golang"})),Object(r.b)("p",null,"There are a few language design choices that some people dislike and/or find disappointing. Lack of possibility to extend data classes, lack of Java-like static methods & fields, classes that are final by default (which is inconvenient while using certain frameworks) - this kind of things are bugging some people. For me, these are not critical and certainly do not outweigh all the pros that come with using Kotlin on the server. However, you should be aware that Kotlin, just like any other tool, is not perfect."),Object(r.b)("h2",{id:"final-thoughts"},"Final thoughts"),Object(r.b)("p",null,"From developer experience POV, Kotlin is a significant improvement, especially if you jump from 'old' Java (by old I mean 8, which is still very common in big enterprises). By using Kotlin, you end up writing less code. The code is more readable and safer - which is critical in the backend, server-side applications. The transition from Java to Kotlin is very smooth - you can become productive very quickly and develop your expertise with time. You don't need to learn new frameworks, as the same frameworks and libraries you have used before with Java do work with Kotlin as well. If you want to improve your server applications on the JVM - you should definitely give Kotlin a try."),Object(r.b)(o.a,{to:"/guides/engineering/",mdxType:"Jump"},"Engineering"))}d.isMDXComponent=!0},293:function(e,t,n){var i;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i)&&i.length){var o=a.apply(null,i);o&&e.push(o)}else if("object"===r)for(var s in i)n.call(i,s)&&i[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(i=function(){return a}.apply(t,[]))||(e.exports=i)}()},295:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return g}));var i=n(0),a=n.n(i);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=a.a.createContext({}),u=function(e){var t=a.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s({},t,{},e)),n},d=function(e){var t=u(e.components);return a.a.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},m=Object(i.forwardRef)((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,o=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(n),m=i,g=d["".concat(o,".").concat(m)]||d[m]||p[m]||r;return n?a.a.createElement(g,s({ref:t},c,{components:n})):a.a.createElement(g,s({ref:t},c))}));function g(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var c=2;c<r;c++)o[c]=n[c];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},296:function(e,t,n){"use strict";var i=n(1),a=n(0),r=n.n(a),o=n(39),s=n(300),l=n(26),c=n.n(l);t.a=function(e){var t,n=e.to,l=e.href,u=n||l,d=Object(s.a)(u),p=Object(a.useRef)(!1),m=c.a.canUseIntersectionObserver;return Object(a.useEffect)((function(){return!m&&d&&window.docusaurus.prefetch(u),function(){m&&t&&t.disconnect()}}),[u,m,d]),u&&d?r.a.createElement(o.b,Object(i.a)({},e,{onMouseEnter:function(){p.current||(window.docusaurus.preload(u),p.current=!0)},innerRef:function(e){var n,i;m&&e&&d&&(n=e,i=function(){window.docusaurus.prefetch(u)},(t=new window.IntersectionObserver((function(e){e.forEach((function(e){n===e.target&&(e.isIntersecting||e.intersectionRatio>0)&&(t.unobserve(n),t.disconnect(),i())}))}))).observe(n))},to:u})):r.a.createElement("a",Object(i.a)({},e,{href:u}))}},298:function(e,t,n){"use strict";var i=n(0),a=n.n(i),r=n(296),o=n(293),s=n.n(o);n(132);t.a=function(e){var t=e.children,n=e.className,i=e.badge,o=e.leftIcon,l=e.rightIcon,c=e.size,u=e.target,d=e.to,p=s()("jump-to","jump-to--"+c,n),m=a.a.createElement("div",{className:"jump-to--inner"},a.a.createElement("div",{className:"jump-to--inner-2"},o&&a.a.createElement("div",{className:"jump-to--left"},a.a.createElement("i",{className:"feather icon-"+o})),a.a.createElement("div",{className:"jump-to--main"},i?a.a.createElement("span",{className:"badge badge--primary badge--right"},i):"",t),a.a.createElement("div",{className:"jump-to--right"},a.a.createElement("i",{className:"feather icon-"+(l||"chevron-right")+" arrow"}))));return u?a.a.createElement("a",{href:d,target:u,className:p},m):a.a.createElement(r.a,{to:d,className:p},m)}},300:function(e,t,n){"use strict";function i(e){return!1===/^(https?:|\/\/)/.test(e)}n.d(t,"a",(function(){return i}))}}]);