/*! For license information please see 43020730.3c1b8479.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{191:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return l})),a.d(t,"metadata",(function(){return c})),a.d(t,"rightToc",(function(){return s})),a.d(t,"default",(function(){return u}));var n=a(1),r=a(9),o=(a(0),a(309)),i=a(310),l={last_modified_on:"2020-06-09",title:"Storage",description:"Learn how to configure Storage on Qovery"},c={id:"using-qovery/configuration/storage",title:"Storage",description:"Learn how to configure Storage on Qovery",source:"@site/docs/using-qovery/configuration/storage.md",permalink:"/docs/using-qovery/configuration/storage",editUrl:"https://github.com/Qovery/documentation/edit/master/website/docs/using-qovery/configuration/storage.md",sidebar:"docs",previous:{title:"Domains",permalink:"/docs/using-qovery/configuration/domains"},next:{title:"Brokers",permalink:"/docs/using-qovery/configuration/brokers"}},s=[{value:"Configuration",id:"configuration",children:[]},{value:"Delete a storage",id:"delete-a-storage",children:[]},{value:"FAQ",id:"faq",children:[{value:"Do you use encryption",id:"do-you-use-encryption",children:[]},{value:"How to extend the size of a storage",id:"how-to-extend-the-size-of-a-storage",children:[]},{value:"How to reduce the size of a storage",id:"how-to-reduce-the-size-of-a-storage",children:[]},{value:"How to change the Storage type",id:"how-to-change-the-storage-type",children:[]}]}],b={rightToc:s};function u(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},b,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"The default filesystem for applications running on Qovery is ephemeral. Application data isn\u2019t persisted across deploys and restarts, which works just fine for most apps because they use managed databases to persist data."),Object(o.b)("p",null,"However, many applications need persistent disk storage that isn\u2019t ephemeral. These include:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Blogging platforms and CMSs like WordPress, Ghost, and Strapi."),Object(o.b)("li",{parentName:"ul"},"Collaboration apps like Mattermost, GitLab, and Discourse.")),Object(o.b)("p",null,"This is where Qovery Storage comes in. Qovery applications can use storage to store data that persists across deploys and restarts, making it easy to deploy stateful applications."),Object(o.b)("p",null,"Qovery Storage supports:"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Type"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Max IOPS"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Max Throughput"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Min Size"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Max Size"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Use cases"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"slow_hdd"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"250"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"250MB/s"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"500GB"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"16TB"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Store a lot of data that do not need to be frequently accessed")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"hdd"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"500"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"500MB/s"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"500GB"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"16TB"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Big data, Log processing")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ssd"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"16000"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"250MB/s"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"1GB"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"16TB"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Recommended for most workload")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"fast_ssd"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"64000"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"1GB/s"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"4GB"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"16TB"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Critical business applications that require sustained IOPS like databases")))),Object(o.b)("h2",{id:"configuration"},"Configuration"),Object(o.b)("p",null,"To specify one or more storage attached to your application, you need to modify your ",Object(o.b)("inlineCode",{parentName:"p"},".qovery.yml")),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml",metastring:'title=".qovery.yml" {6-11}',title:'".qovery.yml"',"{6-11}":!0}),"application:\n  name: jhipster-sample-app\n  project: jhipster-sample-app\n  cloud_region: aws/us-west-2\n  publicly_accessible: true\n  storage:\n    - name: images\n      type: ssd\n      size: 10GB\n      mount_point: /mnt/images\nrouters:\n  - name: main\n    routes:\n      - application_name: jhipster-sample-app\n        paths:\n          - /*\n")),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"name")," must be unique across your storage attached to your application."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"type")," you have the choice between: ",Object(o.b)("inlineCode",{parentName:"li"},"slow_hdd"),", ",Object(o.b)("inlineCode",{parentName:"li"},"hdd"),", ",Object(o.b)("inlineCode",{parentName:"li"},"ssd")," and ",Object(o.b)("inlineCode",{parentName:"li"},"fast_ssd"),". Refer to the details above."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"size")," size in GB, and TB are available"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"mount_point")," (optional): per default qovery will mount your disk into ",Object(o.b)("inlineCode",{parentName:"li"},"/mnt/{name}"))),Object(o.b)("h2",{id:"delete-a-storage"},"Delete a storage"),Object(o.b)("p",null,"To delete a storage, you have two options:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Remove it from the configuration file, commit and push"),Object(o.b)("li",{parentName:"ul"},"If you worked on a feature branch, delete the branch, and the storage instance automatically deletes as well")),Object(o.b)(i.a,{type:"danger",mdxType:"Alert"},Object(o.b)("p",null,"Delete action drops the storage and its data")),Object(o.b)(i.a,{type:"info",mdxType:"Alert"},Object(o.b)("p",null,"Backups are kept for 1 month if you need to recover.")),Object(o.b)("h2",{id:"faq"},"FAQ"),Object(o.b)("h3",{id:"do-you-use-encryption"},"Do you use encryption"),Object(o.b)("p",null,"Yes, all your data are encrypted with AES-256."),Object(o.b)("h3",{id:"how-to-extend-the-size-of-a-storage"},"How to extend the size of a storage"),Object(o.b)(i.a,{type:"warning",mdxType:"Alert"},Object(o.b)("p",null,"Not yet supported")),Object(o.b)("p",null,"You need to update with a higher size value your storage.size property inside your ",Object(o.b)("inlineCode",{parentName:"p"},".qovery.yml"),"."),Object(o.b)("h3",{id:"how-to-reduce-the-size-of-a-storage"},"How to reduce the size of a storage"),Object(o.b)("p",null,"Once you have defined the size of your storage, you can't reduce it. If you want to reduce the size, you must create a new storage with a smaller size, transfer the data from the old storage to the new one, then delete the old storage."),Object(o.b)("h3",{id:"how-to-change-the-storage-type"},"How to change the Storage type"),Object(o.b)("p",null,"Once you have defined the type of your storage, you can't change it. If you want to change the type, you must create a new storage with the new type, transfer the data from the old storage to the new one, then delete the old storage."))}u.isMDXComponent=!0},308:function(e,t,a){var n;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var i=r.apply(null,n);i&&e.push(i)}else if("object"===o)for(var l in n)a.call(n,l)&&n[l]&&e.push(l)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},309:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return m}));var n=a(0),r=a.n(n);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=r.a.createContext({}),b=function(e){var t=r.a.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l({},t,{},e)),a},u=function(e){var t=b(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=Object(n.forwardRef)((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,i=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),u=b(a),d=n,m=u["".concat(i,".").concat(d)]||u[d]||p[d]||o;return a?r.a.createElement(m,l({ref:t},s,{components:a})):r.a.createElement(m,l({ref:t},s))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=d;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:n,i[1]=l;for(var s=2;s<o;s++)i[s]=a[s];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"},310:function(e,t,a){"use strict";a(313);var n=a(0),r=a.n(n),o=a(308),i=a.n(o);a(131);t.a=function(e){var t=e.children,a=e.classNames,n=e.fill,o=e.icon,l=e.type,c=null;switch(l){case"danger":c="alert-triangle";break;case"success":c="check-circle";break;case"warning":c="alert-triangle";break;default:c="info"}return r.a.createElement("div",{className:i()(a,"alert","alert--"+l,{"alert--fill":n,"alert--icon":!1!==o}),role:"alert"},!1!==o&&r.a.createElement("i",{className:i()("feather","icon-"+(o||c))}),t)}},313:function(e,t,a){var n=a(12);n(n.P,"Array",{fill:a(319)}),a(75)("fill")},319:function(e,t,a){"use strict";var n=a(26),r=a(76),o=a(25);e.exports=function(e){for(var t=n(this),a=o(t.length),i=arguments.length,l=r(i>1?arguments[1]:void 0,a),c=i>2?arguments[2]:void 0,s=void 0===c?a:r(c,a);s>l;)t[l++]=e;return t}}}]);