/*! For license information please see 8d5726d6.1b80bfc3.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{250:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return l})),n.d(t,"rightToc",(function(){return p})),n.d(t,"default",(function(){return u}));var a=n(1),r=n(9),i=(n(0),n(342)),o=(n(345),n(341)),c={last_modified_on:"2021-06-26",title:"Application",description:"Learn how to configure your Application on Qovery"},l={id:"using-qovery/configuration/application",title:"Application",description:"Learn how to configure your Application on Qovery",source:"@site/docs/using-qovery/configuration/application.md",permalink:"/docs/using-qovery/configuration/application",editUrl:"https://github.com/Qovery/documentation/edit/master/website/docs/using-qovery/configuration/application.md",sidebar:"docs",previous:{title:"Environment",permalink:"/docs/using-qovery/configuration/environment"},next:{title:"Databases",permalink:"/docs/using-qovery/configuration/database"}},p=[{value:"Create an Application",id:"create-an-application",children:[{value:"Application build",id:"application-build",children:[]}]},{value:"Delete an Application",id:"delete-an-application",children:[]},{value:"Configuration",id:"configuration",children:[{value:"CPU",id:"cpu",children:[]},{value:"RAM",id:"ram",children:[]},{value:"Public access",id:"public-access",children:[]},{value:"Long startup time",id:"long-startup-time",children:[]},{value:"Define start order",id:"define-start-order",children:[]}]}],b={rightToc:p};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)(o.a,{type:"warning",mdxType:"Alert"},Object(i.b)("p",null,"WORK IN PROGRESS - THIS DOCUMENTATION IS OUTDATED")),Object(i.b)("p",null,"An ",Object(i.b)("strong",{parentName:"p"},"application")," is part of a ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/using-qovery/configuration/project/"}),"Project")," within an ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/using-qovery/configuration/environment/"}),"Environment")," and is a container unit. Multiple applications can be part of the same ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/using-qovery/configuration/environment/"}),"Environment"),", be connected to a set of dependencies (databases and other services), and can communicate with other applications within the same Environment."),Object(i.b)("h2",{id:"create-an-application"},"Create an Application"),Object(i.b)(o.a,{type:"info",mdxType:"Alert"},Object(i.b)("p",null,"Check out ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"/guides/getting-started/deploy-your-first-application/"}),"this video guide")," to create and deploy your first application")),Object(i.b)("p",null,"Creating a new project is as simple as choosing its name in your application configs(",Object(i.b)("inlineCode",{parentName:"p"},".qovery.yml"),"):"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yml",metastring:"{2}","{2}":!0}),"application:\n  name: myApp\n  project: myProject\n")),Object(i.b)("p",null,"Above snippet creates an application ",Object(i.b)("inlineCode",{parentName:"p"},"myApp")," within the project ",Object(i.b)("inlineCode",{parentName:"p"},"myProject"),"."),Object(i.b)(o.a,{type:"info",mdxType:"Alert"},Object(i.b)("p",null,"Qovery creates the project if it does not exist. If the project exists, Qovery adds your application into it.")),Object(i.b)("h3",{id:"application-build"},"Application build"),Object(i.b)("h4",{id:"option-1-buildpacks"},"Option 1: Buildpacks"),Object(i.b)("p",null,"To simplify application build for the developer, Qovery supports ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://buildpacks.io"}),"Buildpacks")," out of the box. Buildpacks determine the build process for an app, and which assets and runtimes should be made available to your code at runtime. If your complex apps are running multiple languages, you can also use multiple buildpacks within a single app.\nMeaning, as a developer, you don't need to write a ",Object(i.b)("inlineCode",{parentName:"p"},"Dockerfile")," to build and run your app. Qovery Buildpacks takes care of everything for you."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Supported languages")),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"language"),Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"version"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Ruby"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"any")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Java"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"any")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Node.JS"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"any")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Python"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"any")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Javascript"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"any")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Typescript"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"any")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Python"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"any")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Golang"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"any")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"PHP"),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"any")))),Object(i.b)("p",null,"You don't find a cool language? ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://roadmap.qovery.com/"}),"Suggest us to support it")),Object(i.b)("h4",{id:"option-2-dockerfile"},"Option 2: Dockerfile"),Object(i.b)("p",null,"Qovery runs your application within the ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://www.docker.com/resources/what-container"}),"Container technology"),". To build and run your application, you need to provide a valid ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.docker.com/engine/reference/builder"}),"Dockerfile"),"."),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-Dockerfile",metastring:'title="Valid NodeJS Dockerfile"',title:'"Valid',NodeJS:!0,'Dockerfile"':!0}),"FROM node:13-alpine\nRUN mkdir -p /usr/src/app\nWORKDIR /usr/src/app\nCOPY . .\nRUN npm install\nEXPOSE 3000\nCMD node ./bin/www\n")),Object(i.b)("p",null,"To validate it you can run ",Object(i.b)("inlineCode",{parentName:"p"},"qovery run")," - Note: you need to have Docker running on your computer."),Object(i.b)("h4",{id:"custom-dockerfile-location"},"Custom Dockerfile location"),Object(i.b)("p",null,"To specify the location of your Dockerfile, use ",Object(i.b)("inlineCode",{parentName:"p"},"dockerfile")," field in your ",Object(i.b)("inlineCode",{parentName:"p"},".qovery.yml"),"."),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yml",metastring:"{5}","{5}":!0}),"application:\n  name: myApp\n  project: myProject\n  cpu: 1\n  dockerfile: my/folder/Dockerfile\n")),Object(i.b)("p",null,"Configuration from above will make Qovery look for the Dockerfile in ",Object(i.b)("inlineCode",{parentName:"p"},"my/folder/Dockerfile")," path of your repository."),Object(i.b)("h2",{id:"delete-an-application"},"Delete an Application"),Object(i.b)("p",null,"TODO"),Object(i.b)("h2",{id:"configuration"},"Configuration"),Object(i.b)("h3",{id:"cpu"},"CPU"),Object(i.b)("p",null,"To configure the number of CPUs that your app needs, you only need to add the ",Object(i.b)("inlineCode",{parentName:"p"},"cpu")," option into the ",Object(i.b)("inlineCode",{parentName:"p"},".qovery.yml")),Object(i.b)(o.a,{type:"info",mdxType:"Alert"},Object(i.b)("p",null,"Default is 256m")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yml",metastring:"{4}","{4}":!0}),"application:\n  name: myApp\n  project: myProject\n  cpu: 1\n")),Object(i.b)("p",null,"Accepted values are Integer and Millis CPU."),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yml",metastring:'{4} title="2 CPUs requested"',"{4}":!0,title:'"2',CPUs:!0,'requested"':!0}),"application:\n  name: myApp\n  project: myProject\n  cpu: 2\n")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yml",metastring:'{4} title="1/4 of CPU requested"',"{4}":!0,title:'"1/4',of:!0,CPU:!0,'requested"':!0}),"application:\n  name: myApp\n  project: myProject\n  cpu: 250m\n")),Object(i.b)("h3",{id:"ram"},"RAM"),Object(i.b)("p",null,"To configure the RAM that your app needs, you only need to add the ",Object(i.b)("inlineCode",{parentName:"p"},"ram")," property into the ",Object(i.b)("inlineCode",{parentName:"p"},".qovery.yml")),Object(i.b)(o.a,{type:"info",mdxType:"Alert"},Object(i.b)("p",null,"Default is 512MB")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yml",metastring:"{4}","{4}":!0}),"application:\n  name: myApp\n  project: myProject\n  ram: 256MB\n")),Object(i.b)("p",null,"Accepted values are MB (mega bytes) and GB (giga bytes)"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yml",metastring:'{4} title="1 GB requested"',"{4}":!0,title:'"1',GB:!0,'requested"':!0}),"application:\n  name: myApp\n  project: myProject\n  ram: 1GB\n")),Object(i.b)("h3",{id:"public-access"},"Public access"),Object(i.b)("p",null,"To publicly expose your application you need to add the following lines into your ",Object(i.b)("inlineCode",{parentName:"p"},".qovery.yml")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yml",metastring:'{4-11} title="publicly expose my application and route the traffic into it"',"{4-11}":!0,title:'"publicly',expose:!0,my:!0,application:!0,and:!0,route:!0,the:!0,traffic:!0,into:!0,'it"':!0}),"application:\n  name: myApp\n  project: myProject\n  publicly_accessible: true\n  port: 8080\nrouters:\n- name: my-router\n  routes:\n  - application_name: myApp\n    paths:\n    - /\n")),Object(i.b)("p",null,"You also need to indicate on which port your application is running."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Option 1")),Object(i.b)("p",null,"Add ",Object(i.b)("inlineCode",{parentName:"p"},"port")," property in your ",Object(i.b)("inlineCode",{parentName:"p"},".qovery.yml")," as above."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Option 2")),Object(i.b)("p",null,"Add the ",Object(i.b)("inlineCode",{parentName:"p"},"EXPOSE {port}")," instruction into your ",Object(i.b)("inlineCode",{parentName:"p"},"Dockerfile")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-Dockerfile",metastring:'title="Expose"',title:'"Expose"'}),"...\nEXPOSE 3000\n...\n")),Object(i.b)("p",null,"Your app is now publicly accessible through the auto generated endpoint."),Object(i.b)("h3",{id:"long-startup-time"},"Long startup time"),Object(i.b)("p",null,"Sometimes your application can take some time to start. E.g., when your app is performing database migration.\nBy default, Qovery waits for 15 seconds to check if your app is running correctly. If it's not the case, your environment is rolled-back to the previous working version."),Object(i.b)("p",null,"To prevent this, you can change the startup time:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{5:!0,className:"language-yml",metastring:'{4} title="Change the start timeout to 5 minutes"',"{4}":!0,title:'"Change',the:!0,start:!0,timeout:!0,to:!0,'minutes"':!0}),"application:\n  name: myApp\n  project: myProject\n  start_timeout: 600s\n")),Object(i.b)("p",null,"or"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{5:!0,className:"language-yml",metastring:'{4} title="Change the start timeout to 5 minutes"',"{4}":!0,title:'"Change',the:!0,start:!0,timeout:!0,to:!0,'minutes"':!0}),"application:\n  name: myApp\n  project: myProject\n  start_timeout: 5m\n")),Object(i.b)("p",null,"Seconds (s) and minutes (m) are accepted units."),Object(i.b)("h3",{id:"define-start-order"},"Define start order"),Object(i.b)("p",null,"Qovery gives you the power to have multiple apps within one environment. Sometimes it's necessary to one or multiple apps before others.\nBy using ",Object(i.b)("inlineCode",{parentName:"p"},"depends_on")," property you can declare a list of apps your app is depending on."),Object(i.b)("p",null,"Let's take as example 3 apps:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"billing-api"),Object(i.b)("li",{parentName:"ul"},"user-api"),Object(i.b)("li",{parentName:"ul"},"frontend")),Object(i.b)("p",null,"Where:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"frontend")," depends on ",Object(i.b)("strong",{parentName:"li"},"user-api")," and ",Object(i.b)("strong",{parentName:"li"},"billing-api"),".")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yml",metastring:'{4-6} title="Declare dependencies"',"{4-6}":!0,title:'"Declare','dependencies"':!0}),"application:\n  name: frontend\n  project: myProject\n  depends_on:\n  - user-api\n    billing-api\n")),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"depends_on")," property, guarantee that your app will never start before others that it depends on."))}u.isMDXComponent=!0},340:function(e,t,n){var a;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a)&&a.length){var o=r.apply(null,a);o&&e.push(o)}else if("object"===i)for(var c in a)n.call(a,c)&&a[c]&&e.push(c)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()},341:function(e,t,n){"use strict";n(344);var a=n(0),r=n.n(a),i=n(340),o=n.n(i);n(132);t.a=function(e){var t=e.children,n=e.classNames,a=e.fill,i=e.icon,c=e.type,l=null;switch(c){case"danger":l="alert-triangle";break;case"success":l="check-circle";break;case"warning":l="alert-triangle";break;default:l="info"}return r.a.createElement("div",{className:o()(n,"alert","alert--"+c,{"alert--fill":a,"alert--icon":!1!==i}),role:"alert"},!1!==i&&r.a.createElement("i",{className:o()("feather","icon-"+(i||l))}),t)}},342:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=r.a.createContext({}),b=function(e){var t=r.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):c({},t,{},e)),n},u=function(e){var t=b(e.components);return r.a.createElement(p.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=b(n),m=a,d=u["".concat(o,".").concat(m)]||u[m]||s[m]||i;return n?r.a.createElement(d,c({ref:t},p,{components:n})):r.a.createElement(d,c({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=m;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,o[1]=c;for(var p=2;p<i;p++)o[p]=n[p];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},343:function(e,t,n){"use strict";var a=n(1),r=n(0),i=n.n(r),o=n(39),c=n(346),l=n(19),p=n.n(l);t.a=function(e){var t,n=e.to,l=e.href,b=n||l,u=Object(c.a)(b),s=Object(r.useRef)(!1),m=p.a.canUseIntersectionObserver;return Object(r.useEffect)((function(){return!m&&u&&window.docusaurus.prefetch(b),function(){m&&t&&t.disconnect()}}),[b,m,u]),b&&u?i.a.createElement(o.b,Object(a.a)({},e,{onMouseEnter:function(){s.current||(window.docusaurus.preload(b),s.current=!0)},innerRef:function(e){var n,a;m&&e&&u&&(n=e,a=function(){window.docusaurus.prefetch(b)},(t=new window.IntersectionObserver((function(e){e.forEach((function(e){n===e.target&&(e.isIntersecting||e.intersectionRatio>0)&&(t.unobserve(n),t.disconnect(),a())}))}))).observe(n))},to:b})):i.a.createElement("a",Object(a.a)({},e,{href:b}))}},344:function(e,t,n){var a=n(12);a(a.P,"Array",{fill:n(348)}),n(75)("fill")},345:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(343),o=n(340),c=n.n(o);n(133);t.a=function(e){var t=e.children,n=e.className,a=e.badge,o=e.leftIcon,l=e.rightIcon,p=e.size,b=e.target,u=e.to,s=c()("jump-to","jump-to--"+p,n),m=r.a.createElement("div",{className:"jump-to--inner"},r.a.createElement("div",{className:"jump-to--inner-2"},o&&r.a.createElement("div",{className:"jump-to--left"},r.a.createElement("i",{className:"feather icon-"+o})),r.a.createElement("div",{className:"jump-to--main"},a?r.a.createElement("span",{className:"badge badge--primary badge--right"},a):"",t),r.a.createElement("div",{className:"jump-to--right"},r.a.createElement("i",{className:"feather icon-"+(l||"chevron-right")+" arrow"}))));return b?r.a.createElement("a",{href:u,target:b,className:s},m):r.a.createElement(i.a,{to:u,className:s},m)}},346:function(e,t,n){"use strict";function a(e){return!1===/^(https?:|\/\/)/.test(e)}n.d(t,"a",(function(){return a}))},348:function(e,t,n){"use strict";var a=n(26),r=n(76),i=n(25);e.exports=function(e){for(var t=a(this),n=i(t.length),o=arguments.length,c=r(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,p=void 0===l?n:r(l,n);p>c;)t[c++]=e;return t}}}]);