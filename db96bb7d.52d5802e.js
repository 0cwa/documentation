/*! For license information please see db96bb7d.52d5802e.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[194],{345:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return u})),n.d(t,"rightToc",(function(){return s})),n.d(t,"default",(function(){return d}));var o=n(1),r=n(9),i=(n(0),n(377)),l=n(376),a=n(386),c={last_modified_on:"2021-07-02",title:"Deployment Rule",description:"Learn how to configure the lifecycle of your Environments"},u={id:"using-qovery/configuration/deployment-rule",title:"Deployment Rule",description:"Learn how to configure the lifecycle of your Environments",source:"@site/docs/using-qovery/configuration/deployment-rule.md",permalink:"/docs/using-qovery/configuration/deployment-rule",editUrl:"https://github.com/Qovery/documentation/edit/master/website/docs/using-qovery/configuration/deployment-rule.md",sidebar:"docs",previous:{title:"Object Storage",permalink:"/docs/using-qovery/configuration/object-storage"},next:{title:"Cloud Service Provider",permalink:"/docs/using-qovery/configuration/cloud-service-provider"}},s=[{value:"Why using Deployment Rule?",id:"why-using-deployment-rule",children:[{value:"Cloud cost optimization",id:"cloud-cost-optimization",children:[]},{value:"Time optimization",id:"time-optimization",children:[]},{value:"Examples",id:"examples",children:[]}]},{value:"Rule Levels",id:"rule-levels",children:[]},{value:"Project Deployment Rules",id:"project-deployment-rules",children:[{value:"Project Rules Configuration",id:"project-rules-configuration",children:[]},{value:"General",id:"general",children:[]},{value:"Mode",id:"mode",children:[]},{value:"Cluster",id:"cluster",children:[]},{value:"Deployment",id:"deployment",children:[]},{value:"Auto-deploy",id:"auto-deploy",children:[]},{value:"Start &amp; Stop",id:"start--stop",children:[]},{value:"Target Future Environment",id:"target-future-environment",children:[]}]},{value:"Environment Deployment Rules",id:"environment-deployment-rules",children:[{value:"Environment Rules Configuration",id:"environment-rules-configuration",children:[]},{value:"General",id:"general-1",children:[]},{value:"Mode",id:"mode-1",children:[]},{value:"Cluster",id:"cluster-1",children:[]},{value:"Deployment",id:"deployment-1",children:[]},{value:"Auto-deploy",id:"auto-deploy-1",children:[]},{value:"Start &amp; Stop",id:"start--stop-1",children:[]}]}],p={rightToc:s};function d(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(o.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"A ",Object(i.b)("strong",{parentName:"p"},"Deployment Rules")," lets you configure the lifecycle of your ",Object(i.b)("a",Object(o.a)({parentName:"p"},{href:"/docs/using-qovery/configuration/environment/"}),"Environments"),"."),Object(i.b)("h2",{id:"why-using-deployment-rule"},"Why using Deployment Rule?"),Object(i.b)("h3",{id:"cloud-cost-optimization"},"Cloud cost optimization"),Object(i.b)("p",null,"Using the Deployment Rules is a good practice to drastically ",Object(i.b)("strong",{parentName:"p"},"reduce your cost"),". Indeed, Qovery knows how to optimize your Cloud resources\nwhen your applications are not running. Then you can expect to reduce your Cloud cost up to 60% by using the ",Object(i.b)("strong",{parentName:"p"},"Deployment Rules"),"."),Object(i.b)("h3",{id:"time-optimization"},"Time optimization"),Object(i.b)("p",null,"Configuring your environments, managing, starting, shutting down all takes valuable time from your developers. Deployment Rules allow you\nto declaratively set up how your resources should be used, let Qovery do the dirty job, allowing your employees to focus on important things."),Object(i.b)("h3",{id:"examples"},"Examples"),Object(i.b)("h4",{id:"shutting-down-environments"},"Shutting down environments"),Object(i.b)("p",null,"Developers in your company work from 9-to-5, five days a week. During the weekend, at night, and of the working hours, keeping all development environments running\nmay be a huge expense that gives you no benefits. "),Object(i.b)("p",null,"Deployment Rules address this problem very effectively - all you need to do is to define when you need your environments to be running,\nand let us handle the rest. Qovery will start and stop your services for you to make sure your cloud spending is optimized and wise."),Object(i.b)("h4",{id:"using-cheaper-cloud-providers"},"Using cheaper cloud providers"),Object(i.b)("p",null,"Running your development environments on expensive cloud providers might not be the best way to spend your money. Deployment Rules allow you to deploy\nyour development environments to a cheaper cloud account while still keeping your production using the most reliable services provided by the more expensive cloud provider."),Object(i.b)("h2",{id:"rule-levels"},"Rule Levels"),Object(i.b)("p",null,"You can set up your Rules at ",Object(i.b)("strong",{parentName:"p"},"Project")," and ",Object(i.b)("strong",{parentName:"p"},"Environment")," levels. Rules set up at the Project level will be automatically applied to ",Object(i.b)("strong",{parentName:"p"},"newly created")," Environments you target in the rule.\nIf, however, the default settings applied by the Project level rule does not meet your needs, you are allowed to override the settings at the Environment level later on."),Object(i.b)("h2",{id:"project-deployment-rules"},"Project Deployment Rules"),Object(i.b)("p",null,"Declaring deployment rules at the project level allows you to apply reasonable defaults to all newly created environments. After a new environment within a project is created, rules from the Project are applied to the Environment. However, to keep things flexible, Qovery allows you to override the rules after environment creation at the Environment level, in Environment settings."),Object(i.b)("h3",{id:"project-rules-configuration"},"Project Rules Configuration"),Object(i.b)(a.a,{headingDepth:3,mdxType:"Steps"},Object(i.b)("ol",null,Object(i.b)("li",null,Object(i.b)("p",null,"Navigate to ",Object(i.b)("a",Object(o.a)({parentName:"p"},{href:"https://console-beta.qovery.com"}),"Console"))),Object(i.b)("li",null,Object(i.b)("p",null,"Select your project")),Object(i.b)("li",null,Object(i.b)("p",null,"In project overview, click ",Object(i.b)("strong",{parentName:"p"},"Settings")," button:"),Object(i.b)("p",{align:"center"},Object(i.b)("img",{src:"/img/configuration/deployment/deploy-1.png",alt:"Deployments"}))),Object(i.b)("li",null,Object(i.b)("p",null,"In the popup, select ",Object(i.b)("strong",{parentName:"p"},"Deployment Rules")," and add ",Object(i.b)("strong",{parentName:"p"},"New"),":"),Object(i.b)("p",{align:"center"},Object(i.b)("img",{src:"/img/configuration/deployment/deploy-2.png",alt:"Deployments"}))),Object(i.b)("li",null,Object(i.b)("h3",{id:"general"},"General"),Object(i.b)("h3",{id:"mode"},"Mode"),Object(i.b)("p",null,"Selecting Mode allows you to choose the type of services provisioned in your environments. It's a great way to optimize your cloud expenses:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"PRODUCTION")," mode will provision reliable, production-ready services. It will make sure your production is covered with backups, high uptime, and stability"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"DEVELOPMENT")," mode will provide services in development mode, e.g. Qovery will deploy cheap, containerized versions of databases to avoid provisioning costly, cloud-provider managed services")),Object(i.b)("h3",{id:"cluster"},"Cluster"),Object(i.b)("p",null,"Selecting the cluster allows you to control to which cluster your environments in the project will be deployed to."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example use cases")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"deploy your development environments on a cheap cloud provider"),Object(i.b)("li",{parentName:"ul"},"deploy your environments in multiple regions")),Object(i.b)("p",{align:"center"},Object(i.b)("img",{src:"/img/configuration/deployment/deploy-3.png",alt:"Deployments"})),Object(i.b)("h3",{id:"deployment"},"Deployment"),Object(i.b)("h3",{id:"auto-deploy"},"Auto-deploy"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Auto deploy")," allows you to control if your applications should be, by default, automatically updated after receiving new commits."),Object(i.b)("h3",{id:"start--stop"},"Start & Stop"),Object(i.b)("p",null,"The start and stop section allow you to precisely set up when the environments inside the project should be deployed and cleaned up."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example use cases")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"shut down your development environments during the weekend"),Object(i.b)("li",{parentName:"ul"},"deploy additional environments during peak hours")),Object(i.b)("br",null),Object(i.b)("h3",{id:"target-future-environment"},"Target Future Environment"),Object(i.b)("p",null,"This option allows you to specify which environments should be affected by the given deployment rule."),Object(i.b)("p",{align:"center"},Object(i.b)("img",{src:"/img/configuration/deployment/deploy-4.png",alt:"Deployments"})),Object(i.b)("p",null,"It takes a regex expression as a parameter and, based on that, decides which rule should be applied to a newly created environment."),Object(i.b)(l.a,{type:"info",mdxType:"Alert"},Object(i.b)("p",null,"You can override the Rule applied by Project to Environment in Environment settings. Rules configured at the Project level are defaults applied for Environments when they are first created, but you can fine-tune and adjust environments to your needs afterwards."))))),Object(i.b)("h2",{id:"environment-deployment-rules"},"Environment Deployment Rules"),Object(i.b)("p",null,"Setting up Deployment Rules at the Enviornment level allows you to make all necessary adjustments applied by your default rules from the Project level."),Object(i.b)("h3",{id:"environment-rules-configuration"},"Environment Rules Configuration"),Object(i.b)(a.a,{headingDepth:3,mdxType:"Steps"},Object(i.b)("ol",null,Object(i.b)("li",null,Object(i.b)("p",null,"Navigate to ",Object(i.b)("a",Object(o.a)({parentName:"p"},{href:"https://console-beta.qovery.com"}),"Console"))),Object(i.b)("li",null,Object(i.b)("p",null,"Select your project and environment")),Object(i.b)("li",null,Object(i.b)("p",null,"In environment overview, click ",Object(i.b)("strong",{parentName:"p"},"Settings")," button:"),Object(i.b)("p",{align:"center"},Object(i.b)("img",{src:"/img/configuration/deployment/deploy-5.png",alt:"Deployments"}))),Object(i.b)("li",null,Object(i.b)("h3",{id:"general-1"},"General"),Object(i.b)("h3",{id:"mode-1"},"Mode"),Object(i.b)("p",null,"Displays the mode of your environment. This field is not editable after the environment was provisioned."),Object(i.b)("h3",{id:"cluster-1"},"Cluster"),Object(i.b)("p",null,"Displays the cluster assigned to your environment. This is not editable after the environment was provisioned."),Object(i.b)("p",{align:"center"},Object(i.b)("img",{src:"/img/configuration/deployment/deploy-6.png",alt:"Deployments"})),Object(i.b)("h3",{id:"deployment-1"},"Deployment"),Object(i.b)("h3",{id:"auto-deploy-1"},"Auto-deploy"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Auto deploy")," allows you to override the default settings applied by the project rule related to if your applications should be by default automatically updated after receiving new commits."),Object(i.b)("p",{align:"center"},Object(i.b)("img",{src:"/img/configuration/deployment/deploy-7.png",alt:"Deployments"})),Object(i.b)("h3",{id:"start--stop-1"},"Start & Stop"),Object(i.b)("p",null,"The start and stop section allow you to override the default settings applied by the project rule to precisely set up when the environment should be deployed and cleaned up."),Object(i.b)("p",{align:"center"},Object(i.b)("img",{src:"/img/configuration/deployment/deploy-8.png",alt:"Deployments"}))))))}d.isMDXComponent=!0},375:function(e,t,n){var o;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o)&&o.length){var l=r.apply(null,o);l&&e.push(l)}else if("object"===i)for(var a in o)n.call(o,a)&&o[a]&&e.push(a)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()},376:function(e,t,n){"use strict";n(379);var o=n(0),r=n.n(o),i=n(375),l=n.n(i);n(131);t.a=function(e){var t=e.children,n=e.classNames,o=e.fill,i=e.icon,a=e.type,c=null;switch(a){case"danger":c="alert-triangle";break;case"success":c="check-circle";break;case"warning":c="alert-triangle";break;default:c="info"}return r.a.createElement("div",{className:l()(n,"alert","alert--"+a,{"alert--fill":o,"alert--icon":!1!==i}),role:"alert"},!1!==i&&r.a.createElement("i",{className:l()("feather","icon-"+(i||c))}),t)}},377:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var o=n(0),r=n.n(o);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=r.a.createContext({}),s=function(e){var t=r.a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):a({},t,{},e)),n},p=function(e){var t=s(e.components);return r.a.createElement(u.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=Object(o.forwardRef)((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),p=s(n),b=o,m=p["".concat(l,".").concat(b)]||p[b]||d[b]||i;return n?r.a.createElement(m,a({ref:t},u,{components:n})):r.a.createElement(m,a({ref:t},u))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,l=new Array(i);l[0]=b;var a={};for(var c in t)hasOwnProperty.call(t,c)&&(a[c]=t[c]);a.originalType=e,a.mdxType="string"==typeof e?e:o,l[1]=a;for(var u=2;u<i;u++)l[u]=n[u];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"},379:function(e,t,n){var o=n(12);o(o.P,"Array",{fill:n(384)}),n(74)("fill")},384:function(e,t,n){"use strict";var o=n(27),r=n(75),i=n(26);e.exports=function(e){for(var t=o(this),n=i(t.length),l=arguments.length,a=r(l>1?arguments[1]:void 0,n),c=l>2?arguments[2]:void 0,u=void 0===c?n:r(c,n);u>a;)t[a++]=e;return t}},385:function(e,t,n){"use strict";var o=n(388),r=n(51);function i(e,t){return t.encode?t.strict?o(e):encodeURIComponent(e):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,o){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===o[e]&&(o[e]={}),o[e][t[1]]=n):o[e]=n};case"bracket":return function(e,n,o){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==o[e]?o[e]=[].concat(o[e],n):o[e]=[n]:o[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=r({arrayFormat:"none"},t)),o=Object.create(null);return"string"!=typeof e?o:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),r=t.shift(),i=t.length>0?t.join("="):void 0;i=void 0===i?null:decodeURIComponent(i),n(decodeURIComponent(r),i,o)})),Object.keys(o).sort().reduce((function(e,t){var n=o[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(n):e[t]=n,e}),Object.create(null))):o},t.stringify=function(e,t){var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,o){return null===n?[i(t,e),"[",o,"]"].join(""):[i(t,e),"[",i(o,e),"]=",i(n,e)].join("")};case"bracket":return function(t,n){return null===n?i(t,e):[i(t,e),"[]=",i(n,e)].join("")};default:return function(t,n){return null===n?i(t,e):[i(t,e),"=",i(n,e)].join("")}}}(t=r({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(o){var r=e[o];if(void 0===r)return"";if(null===r)return i(o,t);if(Array.isArray(r)){var l=[];return r.slice().forEach((function(e){void 0!==e&&l.push(n(o,e,l.length))})),l.join("&")}return i(o,t)+"="+i(r,t)})).filter((function(e){return e.length>0})).join("&"):""}},386:function(e,t,n){"use strict";var o=n(0),r=n.n(o),i=(n(375),n(385)),l=n.n(i);n(133);t.a=function(e){var t=e.children,n=e.headingDepth,i=e.hideFeedbackQuestion,a="undefined"!=typeof window?window.location:null,c={title:"Tutorial on "+a+" failed",body:"The tutorial on:\n\n"+a+"\n\nHere's what went wrong:\n\n\x3c!-- Insert command output and details. Thank you for reporting! :) --\x3e"},u="https://github.com/qovery/documentation/issues/new?"+l.a.stringify(c),s=Object(o.useState)(null),p=s[0],d=s[1];return r.a.createElement("div",{className:"steps steps--h"+n},t,!i&&!p&&r.a.createElement("div",{className:"steps--feedback"},"How was it? Did this tutorial work?\xa0\xa0",r.a.createElement("span",{className:"button button--sm button--primary",onClick:function(){return d("yes")}},"Yes"),"\xa0\xa0",r.a.createElement("a",{href:u,target:"_blank",className:"button button--sm button--primary"},"No")),"yes"==p&&r.a.createElement("div",{className:"steps--feedback steps--feedback--success"},"Thanks! If you're enjoying Qovery please consider ",r.a.createElement("a",{href:"https://github.com/qovery/documentation/",target:"_blank"},"starring our Github repo"),"."))}},388:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}}}]);