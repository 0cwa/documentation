<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">
<link rel="preconnect" href="https://ph.qovery.com">
<script>!function(t,e){var o,p,i,n;e.__SV||(window.posthog=e,e._i=[],e.init=function(r,s,c){function a(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(i=t.createElement("script")).type="text/javascript",i.async=!0,i.src=s.api_host+"/static/array.js",(n=t.getElementsByTagName("script")[0]).parentNode.insertBefore(i,n);var g=e;for(void 0!==c?g=e[c]=[]:c="posthog",g.people=g.people||[],g.toString=function(t){var e="posthog";return"posthog"!==c&&(e+="."+c),t||(e+=" (stub)"),e},g.people.toString=function(){return g.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset".split(" "),p=0;p<o.length;p++)a(g,o[p]);e._i.push([r,s,c])},e.__SV=1)}(document,window.posthog||[]),posthog.init("OxbbcR7J3ohTXEDGfsIL9KDlq5Gs080sbgfjrWYIOvU",{api_host:"https://ph.qovery.com"})</script>
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Qovery Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Qovery Blog Atom Feed">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu|Roboto|Source+Code+Pro">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css">
<script src="/js/intercom.js"></script>
<script src="https://www.googletagmanager.com/gtag/js?id=UA-129773960-5" async></script>
<script src="/js/ga.js"></script>

<title data-react-helmet="true">Migrating application from Heroku to Qovery | Qovery</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="Migrating application from Heroku to Qovery | Qovery"><meta data-react-helmet="true" name="description" content="Migrating application from Heroku to Qovery, in minutes, for free"><meta data-react-helmet="true" property="og:description" content="Migrating application from Heroku to Qovery, in minutes, for free"><meta data-react-helmet="true" property="og:image" content="https://hub.qovery.com/img/open-graph.png"><meta data-react-helmet="true" property="twitter:image" content="https://hub.qovery.com/img/open-graph.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Migrating application from Heroku to Qovery | Qovery"><meta data-react-helmet="true" property="og:url" content="https://docs.qovery.com/guides/tutorial/migrate-webapp-from-heroku-to-qovery/"><meta data-react-helmet="true" name="twitter:card" content="summary">

<link data-react-helmet="true" rel="shortcut icon" href="/img/logo-square.svg"><link data-react-helmet="true" rel="canonical" href="https://docs.qovery.com/guides/tutorial/migrate-webapp-from-heroku-to-qovery/">


<link rel="stylesheet" href="/styles.697c0f13.css">


<link rel="preload" href="/styles.4f04a748.js" as="script">

<link rel="preload" href="/runtime~main.0e4f247a.js" as="script">

<link rel="preload" href="/main.2204c267.js" as="script">

<link rel="preload" href="/1.7ffba7f4.js" as="script">

<link rel="preload" href="/2.432f2a26.js" as="script">

<link rel="preload" href="/3.512779fb.js" as="script">

<link rel="preload" href="/1c13b173.eaadbf71.js" as="script">

<link rel="preload" href="/1ae81319.81f1e20e.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_2ZIa"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"></a><a class="navbar__item navbar__link" href="/docs/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/">Guides</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/tutorial">Tutorials</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://discuss.qovery.com">Forum</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://console.qovery.com">Web Console</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://www.qovery.com">Home</a><a class="navbar__item navbar__link" title="GitHub" target="_blank" rel="noopener noreferrer" href="https://github.com/Qovery"><i class="feather icon-github"></i> </a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_16CL"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_34Mc moon_313u"></span></div><div class="react-toggle-track-x"><span class="toggle_34Mc sun_1Og-"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="navbar__item navbar__link" href="/docs/">Docs</a></li><li class="menu__list-item"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/">Guides</a></li><li class="menu__list-item"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/tutorial">Tutorials</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://discuss.qovery.com">Forum</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://console.qovery.com">Web Console</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://www.qovery.com">Home</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" title="GitHub" target="_blank" rel="noopener noreferrer" href="https://github.com/Qovery"></a></li></ul></div></div></div></nav><div class="main-wrapper"><header class="hero domain-bg domain-bg--default"><div class="container"><div class="hero--category"><a aria-current="page" class="active" href="/guides/tutorial/">tutorial</a></div><h1 class="header_1mJE">Migrating application from Heroku to Qovery</h1><div class="hero--subtitle">Tutorial how to migrate a webapp connected to PostgreSQL database from Heroku to Qovery</div><div class="tags_3AF9"><a class="badge badge--rounded badge--pink" href="/guides/tags/type-tutorial/">type: tutorial</a><a class="badge badge--rounded badge--primary" href="/guides/tags/technology-qovery/">technology: qovery</a></div></div></header><main class="container container--l container_1ncB"><aside class="sidebar_1pU0"><section class="avatar_1sJg"><div class="avatar avatar--lg avatar--vertical"><img class="avatar__photo avatar__photo--lg" src="https://github.com/pjeziorowski.png"><div class="avatar__intro"><div class="avatar__name"><a href="https://github.com/pjeziorowski" target="_blank" rel="author">Patryk J.</a></div><small class="avatar__subtitle">Patryk is an experienced Software Engineer, and a Backend Developer at <a href="https://www.qovery.com">Qovery</a>. </small></div></div></section><section class="table-of-contents tableOfContents_1eMQ"><div class="section"><div class="title">Stats</div><div class="text--secondary text--bold"><i class="feather icon-book"></i> 6 min read</div><div class="text--secondary text--bold"><i class="feather icon-clock"></i> Updated <time pubdate="pubdate" datetime="2021-04-29">Apr 29th, 2021</time></div></div><div class="section"><div class="title">Contents</div><ul class="contents"><li><a href="#overview" class="contents__link">Overview</a></li><li><a href="#deploying-the-sample-application-to-heroku" class="contents__link">Deploying the sample application to Heroku</a></li><li><a href="#migrating-the-application-from-heroku-to-qovery" class="contents__link">Migrating the application from Heroku to Qovery</a><ul><li><a href="#dockerize-the-application" class="contents__link">Dockerize the application</a></li><li><a href="#initialize-qovery" class="contents__link">Initialize Qovery</a></li><li><a href="#deploy-the-application-to-qovery" class="contents__link">Deploy the application to Qovery</a></li><li><a href="#migrate-postgresql-data" class="contents__link">Migrate PostgreSQL data</a></li></ul></li><li><a href="#whats-next" class="contents__link">What&#39;s next</a></li></ul></div></section></aside><div class="article_mCV7"><article><div class="markdown"><a aria-hidden="true" tabindex="-1" class="anchor" id="overview"></a><p>This tutorial describes how to migrate your web application running on Heroku to Qovery. In the article, you learn how to
migrate a Node.js application connected to Heroku Postgres as a backing service on the Heroku platform. It covers all required
steps you need to take to deploy your application on Qovery and transfer your data from Heroku Postgres to the database managed
by Qovery.</p><p>The application is a simple Node.js <em>Todo</em> web app that uses PostgreSQL as a persistence layer.</p><div class="alert alert--info alert--fill" role="alert"><p class="text--lg margin-bottom--sm" style="margin-top:-0.25em">Before you begin, this guide assumes the following:</p><ul><li>You are familiar with Heroku basics, have a Heroku account and access to Heroku CLI</li><li>You have a Qovery account and access to Qovery CLI</li><li>You have a <a href="https://github.com">Github</a> account</li></ul><p>If you have not installed the Qovery CLI yet, you can see steps to take <a href="/docs/using-qovery/interface/cli/#first-usage">here</a>.</p></div><hr><div class="margin-bottom--md"><div class="tabs--centered"><ul role="tablist" aria-orientation="horizontal" class="tabs rounded"><li role="tab" tabindex="0" aria-selected="false" class="tab-item">I don&#x27;t want to deploy the sample application</li><li role="tab" tabindex="0" aria-selected="true" class="tab-item tab-item--active">I want to deploy the sample application</li></ul></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="deploying-the-sample-application-to-heroku"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#deploying-the-sample-application-to-heroku" title="Direct link to heading">#</a>Deploying the sample application to Heroku</h2><div class="steps steps--h3"><ol><li><p>Log in to Heroku using the CLI:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-bash codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">heroku login --interactive</span></div></div></pre></div></div></li><li><p>Clone the application repository:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-bash codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/qovery/migrate-webapp-from-heroku-to-qovery.git</span></div></div></pre></div></div></li><li><p>Move to the directory of the cloned repository:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-bash codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> migrate-webapp-from-heroku-to-qovery</span></div></div></pre></div></div><p>The repository is made of a few simple components:</p><ul><li><code>index.js</code> - Node.js script for setting up the web application.</li><li><code>package.json</code> - File determining app&#x27;s dependencies.</li><li><code>Procfile</code> - File required to run the app on Heroku. It determines the command executed on the application startup.</li><li><code>views</code> - Directory with the HTML served by the app.</li></ul></li><li><p>Create a Heroku app:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-bash codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">heroku create</span></div></div></pre></div></div></li><li><p>Add Heroku PostgreSQL to your application:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-bash codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">heroku addons:create heroku-postgresql:hobby-dev</span></div></div></pre></div></div></li><li><p>Deploy the application:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-undefined codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">git push heroku master</span></div></div></pre></div></div></li><li><p>Check your application URL:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-bash codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">heroku info</span></div></div></pre></div></div></li><li><p>In the browser, navigate to your application&#x27;s URL - you&#x27;ll see a simple view with a <em>Todo</em> app:</p><p align="center"><img src="/img/todo-app-example.png" alt="Connect Github"></p></li><li><p>Create a few <em>Todo</em> tasks in the UI to make sure you have sample data in the database.</p></li></ol><div class="steps--feedback">How was it? Did this tutorial work?  <span class="button button--sm button--primary">Yes</span>  <a href="https://github.com/qovery/documentation/issues/new?body=The%20tutorial%20on%3A%0A%0Anull%0A%0AHere%27s%20what%20went%20wrong%3A%0A%0A%3C%21--%20Insert%20command%20output%20and%20details.%20Thank%20you%20for%20reporting%21%20%3A%29%20--%3E&amp;title=Tutorial%20on%20null%20failed" target="_blank" class="button button--sm button--primary">No</a></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="migrating-the-application-from-heroku-to-qovery"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#migrating-the-application-from-heroku-to-qovery" title="Direct link to heading">#</a>Migrating the application from Heroku to Qovery</h2><div class="alert alert--undefined alert--icon" role="alert"><i class="feather icon-info"></i><p>Contents of the <code>Dockerfile</code> and <code>.qovery.yml</code> assumes that you migrate our sample application</p></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="dockerize-the-application"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#dockerize-the-application" title="Direct link to heading">#</a>Dockerize the application</h3><p>As Qovery uses Docker for the runtime of applications, you need first to Dockerize the application. To do so,
create a file named <code>Dockerfile</code> in the root of application repository with the following content:</p><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2TQJ">Dockerfile</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb copyButtonWithTitle_qt-P">Copy</button><pre class="prism-code language-dockerfile codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">FROM node:10-alpine</span></div><div class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /app</span></div><div class="token-line" style="color:#393A34"><span class="token plain">COPY package*.json ./</span></div><div class="token-line" style="color:#393A34"><span class="token plain">RUN npm install</span></div><div class="token-line" style="color:#393A34"><span class="token plain">COPY . /app</span></div><div class="token-line" style="color:#393A34"><span class="token plain">EXPOSE 8080</span></div><div class="token-line" style="color:#393A34"><span class="token plain">CMD [&quot;npm&quot;, &quot;start&quot;]</span></div></div></pre></div></div><p>If you want to learn more about Docker, you can read our introductory article:</p><a class="jump-to jump-to--undefined" href="/guides/tutorial/how-to-deploy-a-docker-container/"><div class="jump-to--inner"><div class="jump-to--inner-2"><div class="jump-to--main">Docker Containers</div><div class="jump-to--right"><i class="feather icon-chevron-right arrow"></i></div></div></div></a><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="initialize-qovery"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#initialize-qovery" title="Direct link to heading">#</a>Initialize Qovery</h3><p>To set up the application for Qovery deployment with a PostgreSQL database, create a <code>.qovery.yml</code> file in the root of the project with the following content:</p><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2TQJ">.qovery.yml</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb copyButtonWithTitle_qt-P">Copy</button><pre class="prism-code language-yml codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">application</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> node</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">todo</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">app</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">project</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> migrate</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">from</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">heroku</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">publicly_accessible</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">databases</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> postgresql</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;11.5&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">postgresql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">database</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">routers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> main</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">routes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">application_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> node</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">todo</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">app</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">paths</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> /</span></div></div></pre></div></div><p>The sample application uses <code>DATABASE_URL</code> environment variable to connect to PostgreSQL. To provide your app
with correct database URL, create a <code>.env</code> file in the root of application repository with this content:</p><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2TQJ">.env</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb copyButtonWithTitle_qt-P">Copy</button><pre class="prism-code language-plain codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">DATABASE_URL=$QOVERY_DATABASE_MY_POSTGRESQL_DATABASE_CONNECTION_URI</span></div></div></pre></div></div><p>Adding this file populates the <code>DATABASE_URL</code> environment variable (that is consumed often on Heroku)
with database URL provided by Qovery.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="deploy-the-application-to-qovery"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#deploy-the-application-to-qovery" title="Direct link to heading">#</a>Deploy the application to Qovery</h3><p>All you need to do to deploy the application to Qovery is to commit and push a repository containing <code>Dockerfile</code> and <code>.qovery.yml</code> to Github.
Qovery needs access to this repository to build and deploy the application.</p><ol><li><p><a href="https://github.com/new">Create a Github repository</a></p></li><li><p>Remove current git configuration from the repository you cloned:</p></li></ol><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-bash codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> -rf .git</span></div></div></pre></div></div><ol start="3"><li>Initialize a new repository and commit all files:</li></ol><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-undefined codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">git init</span></div><div class="token-line" style="color:#393A34"><span class="token plain">git add .</span></div><div class="token-line" style="color:#393A34"><span class="token plain">git commit -m &quot;Deploying to Qovery&quot;</span></div></div></pre></div></div><ol start="4"><li>Push the local repository to the newly created Github repo (replace placeholders in the code below):</li></ol><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-bash codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> remote </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> origin https://github.com/</span><span class="token variable" style="color:#36acaa">$YOUR_NAME</span><span class="token plain">/</span><span class="token variable" style="color:#36acaa">$YOUR_REPOSITORY_NAME</span><span class="token plain">.git</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push -u origin master</span></div></div></pre></div></div><p>Good job! It&#x27;s all you need to do to deploy your application with a database to Qovery.
To confirm that your application is, in fact, deploying, run <code>qovery status</code>.</p><p>The output of the above command could look like this:</p><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2TQJ">Output</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb copyButtonWithTitle_qt-P">Copy</button><pre class="prism-code language-bash codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">BRANCH NAME       </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> STATUS  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> ENDPOINTS                                   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> APPLICATIONS    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> DATABASES</span></div><div class="token-line" style="color:#393A34"><span class="token plain">master            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> running </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> https:/your.app.url.qovery.io               </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> node-todo-app   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> my-postgresql-database</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">APPLICATION NAME  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> STATUS  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> DATABASES</span></div><div class="token-line" style="color:#393A34"><span class="token plain">node-todo-app     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> running </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> my-postgresql-database</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">DATABASE NAME            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> STATUS  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> TYPE         </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> VERSION  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> ENDPOINT </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> PORT     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> USERNAME </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> PASSWORD </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> APPLICATIONS</span></div><div class="token-line" style="color:#393A34"><span class="token plain">my-postgresql-database   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> running </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> POSTGRESQL   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11.5</span><span class="token plain">     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">hidden</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">hidden</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">hidden</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">hidden</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> node-todo-app</span></div></div></pre></div></div><p>The application should be deployed in a few minutes. When it&#x27;s status is <code>running</code>, open the browser
using address specified in the <code>ENDPOINTS</code> section of <code>qovery status</code> output.</p><p>You should see the same application you previously deployed to Heroku, yet without the data from the database.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="migrate-postgresql-data"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#migrate-postgresql-data" title="Direct link to heading">#</a>Migrate PostgreSQL data</h3><p>There are multiple paths you could take to migrate your data from Heroku Postgres to Qovery.
For production usage for the shortest downtime you would probably want to configure Qovery PostgreSQL as a replica to
the database on Heroku, and making it the primary instance after migration. Heroku does not support this in its free
tier, so for the purpose of the example, we take a simpler path and use different tools to migrate the data.</p><div class="alert alert--undefined alert--icon" role="alert"><i class="feather icon-info"></i><p>To run the migration successfully, you need a <code>psql</code> PostgreSQL client installed on your machine.</p></div><p>First, dump the data from your Heroku Postgres:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-bash codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">heroku pg:backups:download -a YOUR_APPLICATION_NAME</span></div><div class="token-line" style="color:#393A34"><span class="token plain">heroku pg:backups:capture -a YOUR_APPLICATION_NAME</span></div></div></pre></div></div><p>It results in creating a new <code>latest.dump</code> file, which you use to transfer data to Qovery.</p><p>To migrate the data to Qovery, run (replace all placeholders with values you get from running <code>qovery application env list -c</code>):</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-bash codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">pg_restore -v -h </span><span class="token variable" style="color:#36acaa">$DATABASE_HOST</span><span class="token plain"> -U </span><span class="token variable" style="color:#36acaa">$DATABASE_USER</span><span class="token plain"> -d postgres latest.dump --no-owner</span></div></div></pre></div></div><p>In the browser, navigate to your application URL deployed on Qovery. Now you should see all the data you had in your database hosted on Heroku. Well done!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="whats-next"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#whats-next" title="Direct link to heading">#</a>What&#x27;s next</h2><a class="jump-to jump-to--undefined" href="/guides/getting-started/setting-custom-domain"><div class="jump-to--inner"><div class="jump-to--inner-2"><div class="jump-to--main">Setting Custom Domain</div><div class="jump-to--right"><i class="feather icon-chevron-right arrow"></i></div></div></div></a><a class="jump-to jump-to--undefined" href="/guides/advanced/using-multiple-environments"><div class="jump-to--inner"><div class="jump-to--inner-2"><div class="jump-to--main">Using Multiple Environments</div><div class="jump-to--right"><i class="feather icon-chevron-right arrow"></i></div></div></div></a></div></article></div></main></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col col--5 footer__col"><div class="margin-bottom--md"></div><div class="margin-bottom--md"><p>Qovery combines the power of Kubernetes, the reliability of AWS, and the simplicity of Heroku to deploy your apps.</p></div><div><a href="https://github.com/qovery" target="_blank"><i class="feather icon-github" alt="Qovery&#x27;s Github Repo"></i></a>    <a href="https://www.linkedin.com/company/qovery/" target="_blank"><i class="feather icon-rss" alt="Qovery&#x27;s Linkedin"></i></a>    <a href="https://twitter.com/qovery_" target="_blank"><i class="feather icon-twitter" alt="Qovery&#x27;s Twitter"></i></a>    <a href="https://discord.qovery.com" target="_blank"><i class="feather icon-message-circle" alt="Qovery&#x27;s Discord"></i></a></div></div><div class="col footer__col"><h4 class="footer__title">Resources</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs">Documentation</a></li><li class="footer__item"><a aria-current="page" class="footer__link-item active" href="/guides">Guides</a></li><li class="footer__item"><a aria-current="page" class="footer__link-item active" href="/guides/tutorial">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/guides/engineering">Engineering</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/pricing" href="https://www.qovery.com/pricing">Pricing</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/enterprise" href="https://www.qovery.com/enterprise">Enterprise</a></li><li class="footer__item"><a class="footer__link-item" to="https://api-doc.qovery.com" href="https://api-doc.qovery.com">API</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/Qovery" href="https://github.com/Qovery">Github</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://discord.qovery.com" href="https://discord.qovery.com">Discord</a></li><li class="footer__item"><a class="footer__link-item" to="https://community.qovery.com" href="https://community.qovery.com">Forum</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/community-call" href="https://www.qovery.com/community-call">Community call</a></li><li class="footer__item"><a class="footer__link-item" to="https://shop.qovery.com" href="https://shop.qovery.com">Goodies</a></li><li class="footer__item"><a class="footer__link-item" to="https://roadmap.qovery.com" href="https://roadmap.qovery.com">Roadmap</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Company</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/blog" href="https://www.qovery.com/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" to="https://jobs.qovery.com" href="https://jobs.qovery.com">Jobs</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/team" href="https://www.qovery.com/team">Team</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/investors" href="https://www.qovery.com/investors">Investors</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/contact" href="https://www.qovery.com/contact">Contact</a></li></ul></div></div><div class="text--center"><small>© 2021 DESIGNED BY QOVERY | BACKED BY TECHSTARS | PROUD SILVER MEMBER OF CNCF AND LINUX FOUNDATION | QOVERY BY BIRDSIGHT - ALL RIGHTS RESERVED</small><br></div></div></footer>
</div>

<script src="/styles.4f04a748.js"></script>

<script src="/runtime~main.0e4f247a.js"></script>

<script src="/main.2204c267.js"></script>

<script src="/1.7ffba7f4.js"></script>

<script src="/2.432f2a26.js"></script>

<script src="/3.512779fb.js"></script>

<script src="/1c13b173.eaadbf71.js"></script>

<script src="/1ae81319.81f1e20e.js"></script>


</body>
</html>