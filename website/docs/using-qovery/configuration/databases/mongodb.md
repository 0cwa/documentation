---
last_modified_on: "2020-06-07"
title: MongoDB
description: "How to use MongoDB"
---

import Alert from '@site/src/components/Alert';

MongoDB is a cross-platform document-oriented database program. Classified as a NoSQL, MongoDB uses JSON-like documents with schema.

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the template located at:

     website/docs/using-qovery/configuration/databases/mongodb.md.erb
-->

## Add a database to your application

To add a dedicated MongoDB instance to your existing application, simply add these lines to your configuration file:

```yml title=".qovery.yml" {4-6}
application:
...
databases:
- type: mongodb
  version: 4.2
  name: my-mongodb
```

- name: select a name for your database
- version: choose the version of the database
- type: the database engine (mongodb in this case)

Alternatively, if you are creating a new application, use `qovery init` to interactively add a database (the CLI asks if you need one).

## Supported versions

Here are the MongoDB versions supported by Qovery.

|Version|Supported|
|---------|-------|
|4.2|Yes|
|4.0|Yes|
|3.6|Yes|


Qovery does not support a new version of MongoDB yet? [Contact us][urls.qovery_chat]

## Get access to a database

To get the connection information of your database, you can use the CLI:

```bash
qovery application env list -c
```

```plain title="OUTPUT"
$ qovery application env list -c
  SCOPE       | KEY                                                           | VALUE
--------------+---------------------------------------------------------------+-----------
  BUILT_IN    | QOVERY_BRANCH_NAME                                            | master
  BUILT_IN    | QOVERY_IS_PRODUCTION                                          | true
  BUILT_IN    | QOVERY_DATABASE_MY_MONGODB_NAME                               | my-mongodb
  BUILT_IN    | QOVERY_DATABASE_MY_MONGODB_TYPE                               | mongodb
  BUILT_IN    | QOVERY_DATABASE_MY_MONGODB_VERSION                            | 4.2
  BUILT_IN    | QOVERY_DATABASE_MY_MONGODB_CONNECTION_URI                     | <hidden>
  BUILT_IN    | QOVERY_DATABASE_MY_MONGODB_CONNECTION_URI_WITHOUT_CREDENTIALS | <hidden>
  BUILT_IN    | QOVERY_DATABASE_MY_MONGODB_HOST                               | <hidden>
  BUILT_IN    | QOVERY_DATABASE_MY_MONGODB_FQDN                               | <hidden>
  BUILT_IN    | QOVERY_DATABASE_MY_MONGODB_PORT                               | <hidden>
  BUILT_IN    | QOVERY_DATABASE_MY_MONGODB_USERNAME                           | <hidden>
  BUILT_IN    | QOVERY_DATABASE_MY_MONGODB_PASSWORD                           | <hidden>
  BUILT_IN    | QOVERY_DATABASE_MY_MONGODB_DATABASE                           | mongodb
```

In the output, you get all data you need to use the database. Those environment variables are available in the runtime of your application.

<Alert type="warning">
Usage of TLS to connect to MongoDB is mandatory.

Your Docker image must contain the TLS certificate of the MongoDB cluster - it
can be [downloaded here](https://s3.amazonaws.com/rds-downloads/rds-combined-ca-bundle.pem).

The application must be configured to use it. If you use the environment variable
`QOVERY_DATABASE_MY_MONGODB_CONNECTION_URI`, you usually should have just append
`&ssl_ca_certs=/path/to/the/rds-combined-ca-bundle.pem` to its value.
</Alert>

## Get database status

To know more about your database status, run:

```bash
qovery status -c
```

```plain title="OUTPUT"
DATABASE NAME | STATUS  | TYPE    | VERSION | ENDPOINT | PORT     | USERNAME | PASSWORD | APPLICATIONS
----------------+---------+---------+---------+----------+----------+----------+----------+-----------------
  my-mongo      | running | mongodb | 4.2     | <hidden> | <hidden> | <hidden> | <hidden> | simple-example
```

## Delete a database

To delete a database, you have two options:
- Remove it from the configuration file, commit and push
- If you worked on a feature branch, delete the branch, and the database instance automatically deletes as well

<Alert type="danger">

Delete action drops the service and its data!

</Alert>

<Alert type="info">

Backups are kept for 1 month if you need to recover.

</Alert>

## Backups


<Alert>

By default, backups are made daily between 1h and 5h.

</Alert>

You can change the window very easily (use 24h format):

```yml title=".qovery.yml" {6}
application:
  ...
databases:
  - name: my-mongodb
    type: mongodb
    backup-window: 21-23
```

As described in the configuration file, the backup occurs between 9 PM and 11 PM.


[urls.qovery_chat]: https://discord.qovery.com
