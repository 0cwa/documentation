---
last_modified_on: "2020-04-20"
$schema: "/.meta/.schemas/guides.json"
title: Deploy Laravel with MySQL on AWS
description: How to deploy Laravel with MySQL on Amazon Web Services
author_github: https://github.com/evoxmusic
tags: ["type: tutorial"]
hide_pagination: true
---

import Jump from '@site/src/components/Jump';
import Steps from '@site/src/components/Steps';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

import Assumptions from '@site/src/components/Assumptions';
import Alert from '@site/src/components/Alert';

[AWS][urls.aws] (Amazon Web Services) is a fantastic and reliable cloud service provider. AWS, like Google Cloud Platform and Microsoft Azure, provides everything you need to host an application without having to worry about running the underlying servers and network configuration.

However, deploying an application on AWS presents some challenges. The typical deployment workflow looks like this: write code, push it to Git, compile code, deploy code, validate your changes, and repeat. Developers thus not only have to do all of this manually, but they also have to configure tons of services (VPC, database, cache, DNS, CDN, etc.) to make their application live on the web.

Qovery solve this problem.

In this blog post, I will show you how Qovery improves the developer experience to deploy staging and production [Laravel][urls.laravel] application with [MySQL][urls.mysql] database on AWS. You will be able to focus on writing the best code instead of managing complex services.

<Assumptions name="guide">

* Your Operating System is MacOS / Windows / Linux
* You have a Github account

</Assumptions>

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the template located at:

     website/guides/tutorial/deploy-laravel-with-mysql.md.erb
-->

## Sign up

Sign up using the **Qovery CLI**, it's very simple!

### Install the CLI!

<Tabs
  centered={true}
  className={"rounded"}
  defaultValue={"linux"}
  placeholder="Please select your OS"
  select={false}
  size={null}
  values={[{"group":"Platforms","label":"Linux","value":"linux"},{"group":"Platforms","label":"MacOS","value":"macos"},{"group":"Platforms","label":"Windows","value":"windows"}]}>

<TabItem value="linux">

**Download and install Qovery CLI on every Linux distribution**

```bash
curl -s https://get.qovery.com | sudo bash
```

</TabItem>

<TabItem value="macos">

<Tabs
  centered={true}
  className="rounded"
  defaultValue="homebrew"
  values={[{"label":"Homebrew","value":"homebrew"},{"label":"Manual","value":"manual"}]}>

<TabItem value="homebrew">

**The common solution to install a command line binary on the MacOS is to use [Homebrew][urls.brew].**

<Steps headingDepth={3}>

1.  ### Add Qovery brew repository
    ```bash
    brew tap Qovery/qovery-cli
    ```

2.  ### Install the CLI
    ```bash
    brew install qovery-cli
    ```

</Steps>

</TabItem>

<TabItem value="manual">

**Install the Qovery CLI on MacOS manually**

```bash
curl -s https://get.qovery.com | bash
```

</TabItem>

</Tabs>

</TabItem>

<TabItem value="windows">

<Tabs
  centered={true}
  className="rounded"
  defaultValue="scoop"
  values={[{"label":"Scoop","value":"scoop"},{"label":"Manual","value":"manual"}]}>

<TabItem value="scoop">

**The classic way to install binaries on Windows is to use [Scoop][urls.scoop].**

<Steps headingDepth={3}>

1.  ### Add Qovery bucket
    ```bash
    scoop bucket add qovery https://github.com/Qovery/scoop-qovery-cli
    ```
2.  ### Install the CLI
    ```bash
    scoop install qovery-cli
    ```

</Steps>

</TabItem>

<TabItem value="manual">

** Install the Qovery CLI on Windows manually by downloading the [latest realease][urls.qovery_cli_releases] and uncompressing its content to
`C:\Windows`.**

</TabItem>

</Tabs>

</TabItem>

</Tabs>

### Sign Up

After the Qovery CLI is installed, run the following command:

```bash
qovery auth
```

A browser window with sign-in options will open.

<p align="center">
  <img src="/img/qovery_signup.svg" alt="Qovery Sign-up page" />
</p>

Choose one of the options (e.g. **Github**) to authenticate.

### Authorize Qovery

Qovery needs access to your account to be able to clone your repository for future application builds.

[Click here][urls.authorize_qovery] to authorize Qovery to clone and build your applications.

<p align="center">
  <img src="/img/github-connect.png" alt="Connect Github" />
</p>

**That's it! You should see "Authentication successful. You can close this window." message.**


## Optional: Get the Laravel sample application

Get a local copy of the [Laravel sample project](https://github.com/Qovery/docker-simple-example-laravel) by forking the project using your Github account and by executing the following command:

<Alert>
Do not forget to fork the project and change the URL below with yours
</Alert>

```bash
$ git clone -b tutorial git@github.com:YOUR_GITHUB_USERNAME/docker-simple-example-laravel.git
```

## Deploy the Laravel application

To deploy the Laravel application connected to a MySQL database, you need to have a .qovery.yml file, and a `Dockerfile` (provided in the sample project) at the root of your project. This file indicates the external resources (e.g. MySQL) that your application needs to work correctly.

To create the `.qovery.yml` file, run the following command:‍‍

```bash
$ qovery init
```

Which creates the `.qovery.yml` file at the root of your project directory

```bash
$ cat .qovery.yml
```

Output

```bash
application:
  name: docker-simple-example-laravel
  project: my-laravel-app-cloud
  cloud_region: aws/eu-west-3
  publicly_accessible: true
databases:
- type: mysql
  version: "8.0"
  name: my-mysql-6132005
routers:
- name: main
  routes:
  - application_name: docker-simple-example-laravel
    paths:
    - /
```

<Alert>
Qovery supports multiple databases (eg. PostgreSQL, MySQL, MongoDB, Redis, Memcached, Cassandra), brokers (eg. RabbitMQ, Kafka) and storage services (eg. S3).
</Alert>

[Authorize the Qovery Github application][urls.authorize_qovery] to get access to your Github account. Once done, you need to commit and push the `.qovery.yml` and `Dockerfile` file to deploy your app.

```bash
$ git add .qovery.yml Dockerfile
$ git commit -m “add .qovery.yml and Dockerfile”
$ git push -u origin qovery
```

Voila! Qovery is now deploying your app!

See the deployment status by executing

```bash
$ qovery status
```
Output

```bash
  BRANCH NAME | STATUS  | ENDPOINTS                                   | APPLICATIONS                  | DATABASES
  master      | running | https://main-yenr7erjbs87dk4m-gtw.qovery.io | docker-simple-example-laravel | my-mysql-6132005

  APPLICATION NAME              | STATUS  | DATABASES
  docker-simple-example-laravel | running | my-mysql-6132005

  DATABASE NAME    | STATUS  | TYPE       | VERSION | ENDPOINT | PORT     | USERNAME | PASSWORD | APPLICATIONS
  my-mysql-6132005 | running | POSTGRESQL | 11.5    | <hidden> | <hidden> | <hidden> | <hidden> | docker-simple-example-laravel
```

## Bonuses
### Test the Laravel application locally

The Qovery motto is: if your application runs locally, then your application will run on Qovery. To test if your application is running locally, execute the following command:

<Alert>
The Docker runtime is required
</Alert>

```bash
$ qovery run
```

```bash
...
Starting server
AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 172.17.0.2. Set the 'ServerName' directive globally to suppress this message
AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 172.17.0.2. Set the 'ServerName' directive globally to suppress this message
[Fri Mar 06 12:43:30.338700 2020] [mpm_prefork:notice] [pid 1] AH00163: Apache/2.4.38 (Debian) PHP/7.4.3 configured -- resuming normal operations
[Fri Mar 06 12:43:30.339017 2020] [core:notice] [pid 1] AH00094: Command line: 'apache2 -D FOREGROUND'
```

Navigate to http://localhost:80 through your web browser and you should see a JSON response
Note: `qovery run` connects your application to the MySQL database on AWS.

### Deploy the application on a staging environment
Qovery has a compelling feature known as “environment”. Qovery supports the deployment of isolated development environments from your branches, complete with exact copies of all of your data. The Environment is useful for testing changes in isolation before merging them.

So, do you want to create a new feature, fix a bug, or make modifications without impacting the production or any other important environment? Type the following commands:

```bash
$ git checkout -b feat_foo
$ git push -u origin feat_foo
$ qovery status
```

Output

```bash
  BRANCH NAME | STATUS  | ENDPOINTS                                   | APPLICATIONS                  | DATABASES
  feat_foo    | running | https://main-yenr7erjbs87dk4m-gtw.qovery.io | docker-simple-example-laravel | my-mysql-6132005

  APPLICATION NAME              | STATUS  | DATABASES
  docker-simple-example-laravel | running | my-mysql-6132005

  DATABASE NAME    | STATUS  | TYPE       | VERSION | ENDPOINT | PORT     | USERNAME | PASSWORD | APPLICATIONS
  my-mysql-6132005 | running | POSTGRESQL | 11.5    | <hidden> | <hidden> | <hidden> | <hidden> | docker-simple-example-laravel
```

## Conclusion
Qovery and AWS bring to developers, the full power of simplicity and flexibility while deploying applications. Any developer can now take advantage of AWS in seconds instead of days.

Accelerate your development and start using Qovery today. Let us know what you think about it on [Twitter][urls.qovery_twitter], or by [Discord][urls.qovery_chat].

**With thanks to [Arnaud J.](https://github.com/arnaudj) for his contribution to this article.**s

<Jump to="/guides/tutorial/">Tutorial</Jump>


[urls.authorize_qovery]: https://github.com/apps/qovery/installations/new
[urls.aws]: https://aws.amazon.com
[urls.brew]: https://brew.sh/
[urls.laravel]: https://www.laravel.com
[urls.mysql]: https://www.mysql.com
[urls.qovery_chat]: https://discord.qovery.com
[urls.qovery_cli_releases]: https://github.com/Qovery/qovery-cli/releases
[urls.qovery_twitter]: https://twitter.com/qovery_
[urls.scoop]: https://brew.sh/
